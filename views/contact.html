<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Space Biology Dashboard</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/animations.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="stars"></div>
    <div class="twinkling"></div>
    
    <nav class="navbar">
        <div class="nav-brand">
            <div class="logo">üåå</div>
            <span>Space Biology Dashboard</span>
        </div>
        
        <div class="nav-links">
            <a href="/dashboard" class="nav-link"><i class="fas fa-chart-bar"></i> Dashboard</a>
            <a href="/about" class="nav-link"><i class="fas fa-info-circle"></i> About</a>
            <a href="/contact" class="nav-link active"><i class="fas fa-envelope"></i> Contact</a>
            <a href="/logout" class="nav-link logout"><i class="fas fa-rocket"></i> Logout</a>
        </div>
    </nav>

    <div class="dashboard-container">
        <header class="dashboard-header">
            <h1>Contact Us</h1>
            <p>Get in touch with our space biology research team</p>
            <div class="microscope-view">
                <div class="microscope-slide">üî¨</div>
            </div>
        </header>

        <div class="contact-content">
            <div class="contact-form-section">
                <h2><i class="fas fa-paper-plane"></i> Send us a Message</h2>
                <form id="contactForm" class="contact-form">
                    <div class="form-group">
                        <label for="name"><i class="fas fa-user"></i> Full Name</label>
                        <input type="text" id="name" name="name" required placeholder="Dr. Jane Smith">
                        <span class="focus-border"></span>
                    </div>

                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email Address</label>
                        <input type="email" id="email" name="email" required placeholder="jane.smith@research.edu">
                        <span class="focus-border"></span>
                    </div>

                    <div class="form-group">
                        <label for="subject"><i class="fas fa-tag"></i> Subject</label>
                        <select id="subject" name="subject" class="subject" required>
                            <option value="">Select a subject</option>
                            <option value="data-request">Data Access Request</option>
                            <option value="research-collab">Research Collaboration</option>
                            <option value="technical-support">Technical Support</option>
                            <option value="general-inquiry">General Inquiry</option>
                            <option value="bug-report">Bug Report</option>
                            <option value="feature-request">Feature Request</option>
                        </select>
                        <span class="focus-border"></span>
                    </div>

                    <div class="form-group">
                        <label for="message"><i class="fas fa-comment"></i> Message</label>
                        <textarea id="message" name="message" rows="6" required placeholder="Tell us about your space biology research needs, questions, or suggestions..."></textarea>
                        <span class="focus-border"></span>
                    </div>

                    <button type="submit" class="btn-primary">
                        <i class="fas fa-paper-plane"></i> Send Message
                    </button>
                </form>
            </div>

            <div class="contact-info-section">
                <h2><i class="fas fa-info-circle"></i> Contact Information</h2>
                
                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Email</h3>
                        <p>space.biology@nasa.gov</p>
                        <span>Primary contact for research inquiries</span>
                    </div>
                </div>

                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Phone</h3>
                        <p>+1 (202) 358-0001</p>
                        <span>Monday-Friday, 9AM-5PM EST</span>
                    </div>
                </div>

                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Address</h3>
                        <p>NASA Headquarters<br>300 E Street SW<br>Washington, DC 20546</p>
                    </div>
                </div>

                <div class="emergency-contact">
                    <h3><i class="fas fa-exclamation-triangle"></i> Urgent Matters</h3>
                    <p>For time-sensitive research collaboration or critical technical issues, please call our direct line:</p>
                    <p class="emergency-number">+1 (202) 358-0002</p>
                </div>

                <div class="quick-links">
                    <h3><i class="fas fa-link"></i> Quick Links</h3>
                    <div class="links-grid">
                        <a href="https://www.nasa.gov" target="_blank" class="quick-link">
                            <i class="fas fa-globe"></i> NASA Official Website
                        </a>
                        <a href="https://genelab.nasa.gov" target="_blank" class="quick-link">
                            <i class="fas fa-dna"></i> GeneLab Database
                        </a>
                        <a href="https://lsda.jsc.nasa.gov" target="_blank" class="quick-link">
                            <i class="fas fa-archive"></i> Life Sciences Data Archive
                        </a>
                        <a href="https://www.nasa.gov/mission_pages/station/research" target="_blank" class="quick-link">
                            <i class="fas fa-space-shuttle"></i> ISS Research
                        </a>
                    </div>
                </div>

                <div class="response-time">
                    <h3><i class="fas fa-clock"></i> Response Time</h3>
                    <div class="time-info">
                        <div class="time-item">
                            <span>General Inquiries:</span>
                            <span class="time">24-48 hours</span>
                        </div>
                        <div class="time-item">
                            <span>Technical Support:</span>
                            <span class="time">12-24 hours</span>
                        </div>
                        <div class="time-item">
                            <span>Research Collaboration:</span>
                            <span class="time">2-3 business days</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="team-section">
            <h2><i class="fas fa-users"></i> Our Team</h2>
            <div class="team-grid">
                <div class="team-member">
                    <div class="member-avatar">üë®‚ÄçüöÄ</div>
                    <h3>Dr. Sarah Chen</h3>
                    <p>Lead Space Biologist</p>
                    <span>Plant Biology Specialist</span>
                </div>
                <div class="team-member">
                    <div class="member-avatar">üë©‚Äçüî¨</div>
                    <h3>Dr. Marcus Johnson</h3>
                    <p>Data Science Lead</p>
                    <span>Bioinformatics Expert</span>
                </div>
                <div class="team-member">
                    <div class="member-avatar">üë®‚Äçüíª</div>
                    <h3>Dr. Elena Rodriguez</h3>
                    <p>Microbiology Researcher</p>
                    <span>Microbial Studies</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const submitBtn = this.querySelector('button');
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = '<div class="loading"></div> Sending...';
            submitBtn.disabled = true;

            try {
                const response = await fetch('/api/contact', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(Object.fromEntries(formData))
                });

                const result = await response.json();

                if (result.success) {
                    // Create success notification
                    const toast = document.createElement('div');
                    toast.className = 'toast success';
                    toast.innerHTML = `
                        <div class="toast-content">
                            <i class="fas fa-check-circle"></i>
                            <span>Message sent successfully! We will get back to you soon.</span>
                        </div>
                    `;
                    document.body.appendChild(toast);
                    
                    setTimeout(() => toast.classList.add('show'), 100);
                    setTimeout(() => {
                        toast.classList.remove('show');
                        setTimeout(() => toast.remove(), 300);
                    }, 5000);

                    this.reset();
                } else {
                    alert('Failed to send message. Please try again.');
                }
            } catch (error) {
                alert('Network error. Please try again later.');
            } finally {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Add animation to form elements
        document.querySelectorAll('.form-group input, .form-group select, .form-group textarea').forEach(element => {
            element.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            element.addEventListener('blur', function() {
                if (!this.value) {
                    this.parentElement.classList.remove('focused');
                }
            });
        });
    </script>
    <script src="/js/auth.js"></script>
    <script src="/js/animations.js"></script>
    <script>
// Check if user is admin and show admin link
fetch('/api/auth/check')
    .then(response => response.json())
    .then(result => {
        if (result.loggedIn && result.isAdmin) {
            const navLinks = document.querySelector('.nav-links');
            if (navLinks) {
                const adminLink = document.createElement('a');
                adminLink.href = '/admin';
                adminLink.className = 'nav-link';
                adminLink.innerHTML = '<i class="fas fa-cog"></i> Admin';
                navLinks.insertBefore(adminLink, navLinks.querySelector('.logout'));
            }
        }
    });
</script>
</body>
</html>